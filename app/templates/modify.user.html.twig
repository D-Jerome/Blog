
{% extends './layouts/connection.html.twig' %}

{% block content %} 
            <h1>Modification de l'utilisateur</h1>            
            <div class="col-md-12">            
                <div class="card mb-3 bg-secondary bg-gradient text-light">
                    <div class="card-body">
                        <h5 class="card-title ">{{ user.username }}</h5>
                        <p class="text-white ">depuis le {{ user.createdAt }}</p>
                        <pclass="card-text">{{ user.email }} </p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 mx-auto border border-dark"> 
                <form action="" method="post">
                <input type="hidden" id="id"  name="id" value="{{ user.id }}">
                <div class="form-group my-3">
                    <label id="name">identifiant:</label>
                    <input class="form-control" type="text" id="name"  name="username" value="{{ user.username }}">
                </div>    
                <div class="form-group my-3">
                    <label id="email">email:</label>
                    <input class="form-control" id="email" name="email" value="{{ user.email }}">
                </div>
                {% if authUser.role == "admin" %}
                    <div class="form-group bg-light">
                    Role:
                    {% for role in roles %}
                        <div class="form-check">
                            <input class="form-check-input" type="radio" value="{{ role.id }}" name="roleId" id="rol-{{ role.role }}-{{ role.id }}" {% if user.roleId == role.id %} checked {% endif %}>
                            <label class="form-check-label" for="rol-{{ role.role }}-{{ role.id }}">{{ role.role }}</label>
                        </div>
                        {% endfor %}    
                    </div>  
                {% endif %}   
                <button type="submit" class="btn btn-primary my-3">Modifier</button>
                </form> 
            </div>    

{% endblock %}